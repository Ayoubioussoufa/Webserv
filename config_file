# Configuration for the HTTP server

# Server block 1
server {
    listen 8080;              # Listen on port 8080
    host localhost;           # Hostname or IP address
    server_name example.com;  # Optional server names

    # Default error pages
    error_page 404 /errors/404.html;
    error_page 500 /errors/500.html;

    # Limit client body size
    client_body_limit 10M;

    # Define routes
    location / {
        methods GET POST;     # Accepted HTTP methods
        root /var/www/html;   # Root directory for static files
        index index.html;     # Default file to serve for directories
        cgi /cgi-bin;         # CGI directory
        cgi_extension .php;   # CGI file extension
        upload_dir /var/uploads;  # Directory to save uploaded files
        directory_listing on; # Enable directory listing
    }

    # Define routes for redirection
    location /old-page {
        redirect /new-page;   # HTTP redirection
    }
}

# Server block 2
server {
    listen 8081;              # Listen on port 8081
    host localhost;           # Hostname or IP address

    # Default error pages
    error_page 404 /errors/404.html;

    # Define routes
    location / {
        methods GET;           # Accepted HTTP methods
        root /var/www/static; # Root directory for static files
        index index.html;     # Default file to serve for directories
    }
}
